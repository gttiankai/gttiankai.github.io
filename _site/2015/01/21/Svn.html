<!doctype html>
<html>
<head>
  <meta charset="utf-8">
<title>svn 使用笔记(持续更新) | Tiankai`s Blog</title>
<meta name="author" content="Tin Kai">

  <meta name="keywords" content="svn">


<link rel="shortcut icon" href="" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/public/css/bootstrap.css">
<link rel="stylesheet" href="/public/css/font-awesome.css">
<link rel="stylesheet" href="/public/js/prettify/prettify.css">
<link rel="stylesheet" href="/public/css/base.css">
<link href="/pages/atom.xml" rel="alternate" title="Tiankai`s Blog" type="application/atom+xml">
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12 aside visible-md visible-lg">
  <div class="row">
    <div class="col-md-3 col-xs-3 aside1">
      <br>
      <a class="pjaxlink" href="/"><img src="" class="img-circle avatar"></a>
      <br><br>
      <ul class="nav nav-pills nav-stacked">
        
          <li><a href="#工具" data-toggle="tab">工具</a></li>
        
          <li><a href="#技术" data-toggle="tab">技术</a></li>
        
          <li><a href="#org2jekyll" data-toggle="tab">org2jekyll</a></li>
        
          <li><a href="#emacs" data-toggle="tab">emacs</a></li>
        
          <li><a href="#破解签名" data-toggle="tab">破解签名</a></li>
        
        <li><a href="#tags" data-toggle="tab">标签</a></li>
        <li><a class="pjaxlink" href="/pages/archive.html">归档</a></li>
        <li><a class="pjaxlink" href="/pages/about.html">关于</a></li>
      </ul>
      <div class="aside1_bottom">
        <table class="table table-condensed">
          <tr>
            <td><a href="/pages/atom.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a></td>
            <td><a href="mailto:gttiankai@163.com"><i class="fa fa-envelope-o fa-2x"></i></a></td>
          </tr>
        </table>
      </div>
    </div>
    <div class="col-md-9 col-xs-9 aside2">
      <div class="row">
        <div class="tab-content">
           
            <div class="tab-pane" id="工具">
              <div class="list-group">
                <h2 class="center">工具</h2>
                
                  <a href="/2015/01/21/Svn.html" class="list-group-item pjaxlink">svn 使用笔记(持续更新)</a>
                
                  <a href="/2015/01/12/github-jekyll-org-mod.html" class="list-group-item pjaxlink">在Github上搭建自己的Jekyll博客</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="技术">
              <div class="list-group">
                <h2 class="center">技术</h2>
                
                  <a href="/2015/01/18/Rc4.html" class="list-group-item pjaxlink">流加密RC4的C语言实现</a>
                
                  <a href="/2015/01/13/aligned_address.html" class="list-group-item pjaxlink">C语言中关于页对齐的总结</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="org2jekyll">
              <div class="list-group">
                <h2 class="center">org2jekyll</h2>
                
                  <a href="/2015/04/29/org2jekyll.html" class="list-group-item pjaxlink">测试org2jekyll的功能</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="emacs">
              <div class="list-group">
                <h2 class="center">emacs</h2>
                
                  <a href="/2015/04/29/org2jekyll.html" class="list-group-item pjaxlink">测试org2jekyll的功能</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="破解签名">
              <div class="list-group">
                <h2 class="center">破解签名</h2>
                
                  <a href="/2015/05/27/%E4%B8%80%E7%A7%8D%E9%80%9A%E7%94%A8%E7%9A%84%E5%9F%BA%E4%BA%8EXposed%E6%A1%86%E6%9E%B6%E7%9A%84%E7%AD%BE%E5%90%8D%E7%A0%B4%E8%A7%A3%E6%96%B9%E5%BC%8F.html" class="list-group-item pjaxlink">基于Xposed框架的一种通用破解签名校验的方式</a>
                
              </div>
            </div>
          
          <div class="tab-pane" id="tags">
            <div class="panel-group" id="accordion">
              <h2 class="center">标签</h2>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Jekyll">Jekyll</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="Jekyll" class="panel-collapse collapse">
                    
                      <a  href='/2015/01/12/github-jekyll-org-mod.html' class="list-group-item pjaxlink">
                        在Github上搭建自己的Jekyll博客
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#github">github</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="github" class="panel-collapse collapse">
                    
                      <a  href='/2015/01/12/github-jekyll-org-mod.html' class="list-group-item pjaxlink">
                        在Github上搭建自己的Jekyll博客
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#orgmode">orgmode</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="orgmode" class="panel-collapse collapse">
                    
                      <a  href='/2015/01/12/github-jekyll-org-mod.html' class="list-group-item pjaxlink">
                        在Github上搭建自己的Jekyll博客
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#C语言">C语言</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="C语言" class="panel-collapse collapse">
                    
                      <a  href='/2015/01/13/aligned_address.html' class="list-group-item pjaxlink">
                        C语言中关于页对齐的总结
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#RC4">RC4</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="RC4" class="panel-collapse collapse">
                    
                      <a  href='/2015/01/18/Rc4.html' class="list-group-item pjaxlink">
                        流加密RC4的C语言实现
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#svn">svn</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="svn" class="panel-collapse collapse">
                    
                      <a  href='/2015/01/21/Svn.html' class="list-group-item pjaxlink">
                        svn 使用笔记(持续更新)
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Xposed">Xposed</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="Xposed" class="panel-collapse collapse">
                    
                      <a  href='/2015/05/27/%E4%B8%80%E7%A7%8D%E9%80%9A%E7%94%A8%E7%9A%84%E5%9F%BA%E4%BA%8EXposed%E6%A1%86%E6%9E%B6%E7%9A%84%E7%AD%BE%E5%90%8D%E7%A0%B4%E8%A7%A3%E6%96%B9%E5%BC%8F.html' class="list-group-item pjaxlink">
                        基于Xposed框架的一种通用破解签名校验的方式
                      </a>
                    
                  </div>
                </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="col-md-8 col-lg-8 col-sm-12 col-xs-12 aside3">
        <div id="container">
          <div id="pjax">
            <div class="row">
  <div class="col-md-12 aside3-title">
    <br>
    <h2 id="#identifier">svn 使用笔记(持续更新)</h2>
    2015年01月21日
  </div>
  <div class="col-md-12 aside3-content">
    <!-- 目录 -->
<div class="content">
    <h3><a href="javascript:;" id="content_btn">[目录]</a></h3>
    <div id="content_table" style="display:none;">
        <div id="nav"></div>
    </div>
</div>

    <hr>
    <div id="content">
      <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 前言</a></li>
<li><a href="#sec-2">2. Svn 安装</a>
<ul>
<li><a href="#sec-2-1">2.1. 在ubuntu上:</a></li>
<li><a href="#sec-2-2">2.2. Mac OX</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Svn初使用</a>
<ul>
<li><a href="#sec-3-1">3.1. 从远程仓库中copy一份文件(检出)</a></li>
<li><a href="#sec-3-2">3.2. 将文件加入版本库</a></li>
<li><a href="#sec-3-3">3.3. Commit</a></li>
<li><a href="#sec-3-4">3.4. Update</a></li>
<li><a href="#sec-3-5">3.5. Delete</a>
<ul>
<li><a href="#sec-3-5-1">3.5.1. 可能出现的异常</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-4">4. 删除svn代码仓库中.svn文件</a></li>
</ul>
</div>
</div>

<h1 id="a-idsec-1-namesec-1a">前言<a id="sec-1" name="sec-1"></a></h1>

<p>今天在公司使用svn的时候,操作出现了异常,倒不是bug,但是记得上次遇到过,这次又忘记了,所以要好好的总结一下.a</p>

<h1 id="svn-a-idsec-2-namesec-2a">Svn 安装<a id="sec-2" name="sec-2"></a></h1>

<h2 id="ubuntua-idsec-2-1-namesec-2-1a">在ubuntu上:<a id="sec-2-1" name="sec-2-1"></a></h2>

<pre><code>Sudo Apt-Get Install Subversion
</code></pre>

<p>还有一个subversion的工具需要安装一下:</p>

<pre><code>Sudo Apt-Get Install Subversion-Tools
</code></pre>

<h2 id="mac-oxa-idsec-2-2-namesec-2-2a">Mac OX<a id="sec-2-2" name="sec-2-2"></a></h2>

<pre><code>brew install subversion
</code></pre>

<h1 id="svna-idsec-3-namesec-3a">Svn初使用<a id="sec-3" name="sec-3"></a></h1>

<h2 id="copya-idsec-3-1-namesec-3-1a">从远程仓库中copy一份文件(检出)<a id="sec-3-1" name="sec-3-1"></a></h2>

<p>使用svn做版本控制的第一步一般都是从远程仓库中复制一个副本,使用的命令是:</p>

<pre><code>Svn Checkout Https//.... --Username Yourusername
</code></pre>

<p>这个命令和git中的命令很不一样,个人感觉还是git中的命令比较直白,该命令等同<br />
于git:中的命令:</p>

<pre><code>Git Clone Url-To-Reposity
</code></pre>

<h2 id="a-idsec-3-2-namesec-3-2a">将文件加入版本库<a id="sec-3-2" name="sec-3-2"></a></h2>

<pre><code>Svn Add Filename
</code></pre>

<h2 id="commita-idsec-3-3-namesec-3-3a">Commit<a id="sec-3-3" name="sec-3-3"></a></h2>

<pre><code>Svn Commit -M " Some Message"
</code></pre>

<h2 id="updatea-idsec-3-4-namesec-3-4a">Update<a id="sec-3-4" name="sec-3-4"></a></h2>

<pre><code>Svn Update
Svn Update -R 
Svn Update File-Name
</code></pre>

<h2 id="deletea-idsec-3-5-namesec-3-5a">Delete<a id="sec-3-5" name="sec-3-5"></a></h2>

<p>svn中要删除文件的时候,如果直接删除代码库中的文件,然后commit,svn是不会将库中的代码,直接删除的,要使用下面的代码删除命令</p>

<pre><code>svn delete file-name/directory-name
</code></pre>

<p>注意在svn中,删除文件和文件夹使用同一个命令</p>

<h3 id="a-idsec-3-5-1-namesec-3-5-1a">可能出现的异常<a id="sec-3-5-1" name="sec-3-5-1"></a></h3>

<p>当用户A删除了某个文件夹direct1中的代码,然后A提交之后,用户B更新代码仓库之后,不能正常的删除某个文件夹direct1</p>

<p>问题的原因: 这可能是因为用户B修改了direct1中的内容,此时svn不会将你修改的文件删除,所以此时会遇到更新之后,文件夹不能更新的情况</p>

<p>问题的解决: 知道了问题的原因,剩下的就非常和解决了.只需要删除自己修改过的文件.当然这么做的前提是你确实不需要这个修改过的代码了.</p>

<h1 id="svnsvna-idsec-4-namesec-4a">删除svn代码仓库中.svn文件<a id="sec-4" name="sec-4"></a></h1>

<p>在svn代码仓库中 <strong>每个</strong> 文件夹的目录下都会存在名称为 <strong>.svn</strong> 的隐藏文件.该文件是记录文件变动的svn记录文件,svn能够对代码做版本控制靠得就是这个隐藏的文件.在很多情况下我们可能需要删除每个目录下面的.svn文件,手动删除实在太麻烦了.所以写了下面的脚本,来使用下面的脚本删除指定目录以及子目录.svn文件.</p>

<pre><code>#!/bin/bash
#Walk all the files in the $1 dir
function walk_dir()
{
    local dir2walk=$1
    local files2walk=(`ls -a ${dir2walk}`)
    local file

    for file in ${files2walk[@]}; do
        local next2walk=${dir2walk}/${file}
        if [[ -d ${next2walk} ]]; then
            if [[ ${file} != "." &amp;&amp; ${file} != ".." &amp;&amp; ${file} != ".svn" ]]; then
                walk_dir ${next2walk}
            elif [[ ${file} == ".svn" ]]; then
                rm -rf "${next2walk}"
                echo "rm ${next2walk}"
            fi
        else 
            echo ${next2walk}
        fi
    done
}

function main()
{
    local dir2walk=$1
    walk_dir ${dir2walk}
}

#set -x
main $@
#set +x
</code></pre>

    </div>
    <hr>
    <div id="disqus_thread">
  <button type="button" name="Tiankai-zh" class="btn btn-default show-commend">显示评论</button>
</div>

  </div>
</div>


          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="position:fixed;right:20px;top:10px;">
  <button id="nav_btn" class="btn btn-primary">
    <i class="fa fa-2x fa-navicon"></i>
  </button>
</div>
<script type="text/javascript" src="/public/js/jquery.js"></script>
<script type="text/javascript" src="/public/js/bootstrap.js"></script>
<script src="/public/js/jquery.pjax.js"></script>
<script src="/public/js/prettify/prettify.js"></script>
<script src="/public/js/base.js"></script>
<script>
    $('a[href="#技术"]').tab('show');
</script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-54767140-1', 'gttiankai.github.io');
  ga('send', 'pageview');
</script>
</body>
</html>